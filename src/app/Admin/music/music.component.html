<div class="booking-admin">



  <!-- Bookings Table -->
  <section class="bookings-table-section">
    <h2>📋 All Bookings</h2>
    <div class="table-wrapper">
      <table class="bookings-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Email</th>
            <th>Class Type</th>
            <th>Message</th>
            <th>Created At</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let b of bookings; let i = index">
            <td>{{ i + 1 + (currentPage - 1) * pageSize }}</td>
            <td>{{ b.name }}</td>
            <td>{{ b.email }}</td>
            <td>{{ b.class_type | titlecase }}</td>
            <td>{{ b.message }}</td>
            <td>{{ b.created_at | date:'short' }}</td>
            <td class="actions">
              <button class="btn-edit" (click)="editBooking(b)">✏ Edit</button>
              <button class="btn-delete" (click)="deleteBooking(b.id)">🗑 Delete</button>
            </td>
          </tr>

          <!-- Inline Editing -->
          <tr *ngIf="editingBooking">
            <td colspan="7">
              <form (ngSubmit)="updateBooking()" class="edit-form">
                <input type="text" [(ngModel)]="editingBooking.name" name="editName" required />
                <input type="email" [(ngModel)]="editingBooking.email" name="editEmail" required />
                <select [(ngModel)]="editingBooking.class_type" name="editClass" required>
                  <option value="vocals">Vocals</option>
                  <option value="piano">Piano</option>
                  <option value="guitar">Guitar</option>
                  <option value="drums">Drums</option>
                  <option value="theory">Music Theory</option>
                </select>
                <textarea [(ngModel)]="editingBooking.message" name="editMessage" rows="2"></textarea>
                <button type="submit" class="btn-save">💾 Save</button>
                <button type="button" class="btn-cancel" (click)="cancelEdit()">❌ Cancel</button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Pagination -->
   
  </section>

</div>
